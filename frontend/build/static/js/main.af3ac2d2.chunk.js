(this.webpackJsonpfrontend=this.webpackJsonpfrontend||[]).push([[0],{101:function(e,t,c){},231:function(e,t,c){"use strict";c.r(t);var s=c(0),n=c.n(s),r=c(15),a=c.n(r),i=(c(101),c(55)),l=c(7),o=c(9),j=c.p+"static/media/logo.f561a865.jpg",d=c(1);function b(){return Object(d.jsxs)("div",{className:"Landing",children:[Object(d.jsx)("a",{href:"/",children:Object(d.jsx)("img",{className:"logo",src:j})}),Object(d.jsxs)("div",{className:"text",children:[Object(d.jsx)("h1",{children:"Find your perfect wine match!"}),Object(d.jsx)("p",{children:"We recommend optimal wine pairings based on your personality, flavor, and scent preferences."})]}),Object(d.jsxs)("div",{className:"footer",children:[Object(d.jsx)("p",{children:"Sofia Yoon (hy348), Ashley Park (ap764), Junho Kim-Lee (jk2333), Yubin Heo (yh356)"}),Object(d.jsx)("a",{href:"https://perfectwinematch-v1.herokuapp.com/",children:"prototype 1"}),Object(d.jsx)("a",{href:"https://perfectwinematch-p04.herokuapp.com/",children:"prototype 2"})]})]})}var h=c(6),u=c(8);c(60);function O(e){var t=e.personality,c=e.flavor,n=e.scent,r=e.price,a=e.newWM,i=(e.likedWine,e.setPersonality),j=e.setFlavor,b=e.setScent,O=e.setPrice,p=e.setNewWM,m=e.setLikedWine,f=Object(l.e)(),x=Object(s.useState)(1),v=Object(o.a)(x,2),y=v[0],g=v[1];function w(e){e.preventDefault(),1===y?""!==c.trim()&&""!==n.trim()&&""!==r.trim()&&parseInt(r.trim())>=4&&parseInt(r.trim())<=3300?g(2):parseInt(r.trim())<4||parseInt(r.trim())>3300?alert("Price range must be between $4 to $3300"):alert("Please fill out all the inputs for us to determine your perfect matches!"):2===y&&(""!==t.personality1&&""!==t.personality2&&""!==t.personality3&&""!==t.personality4?g(3):alert("Please fill out all the inputs for us to determine your perfect matches!"))}function N(e){return Object(d.jsxs)(d.Fragment,{children:[Object(d.jsxs)("div",{className:"scale",children:[Object(d.jsx)("p",{children:"no"}),Object(d.jsx)("p",{}),Object(d.jsx)("p",{children:"neutral"}),Object(d.jsx)("p",{}),Object(d.jsx)("p",{children:"yes"})]}),Object(d.jsxs)("div",{className:"radios",children:[Object(d.jsx)("input",{className:"radio",type:"radio",name:e,value:"1",checked:"1"===t[e],onChange:function(c){return i(Object(u.a)(Object(u.a)({},t),{},Object(h.a)({},e,c.target.value)))},required:!0}),Object(d.jsx)("input",{className:"radio",type:"radio",name:e,value:"2",checked:"2"===t[e],onChange:function(c){return i(Object(u.a)(Object(u.a)({},t),{},Object(h.a)({},e,c.target.value)))},required:!0}),Object(d.jsx)("input",{className:"radio",type:"radio",name:e,value:"3",checked:"3"===t[e],onChange:function(c){return i(Object(u.a)(Object(u.a)({},t),{},Object(h.a)({},e,c.target.value)))},required:!0}),Object(d.jsx)("input",{className:"radio",type:"radio",name:e,value:"4",checked:"4"===t[e],onChange:function(c){return i(Object(u.a)(Object(u.a)({},t),{},Object(h.a)({},e,c.target.value)))},required:!0}),Object(d.jsx)("input",{className:"radio",type:"radio",name:e,value:"5",checked:"5"===t[e],onChange:function(c){return i(Object(u.a)(Object(u.a)({},t),{},Object(h.a)({},e,c.target.value)))},required:!0})]})]})}return Object(d.jsx)("div",{className:"Search",children:Object(d.jsx)("form",{onSubmit:function(e){if(e.preventDefault(),""!==t.personality5&&""!==t.personality6&&""!==t.personality7&&""!==t.personality8){if(function(e,t,c,s){var n="";for(var r in e)n+="personality1"!==r?"&"+r+"="+e[r]:"?"+r+"="+e[r];var a=n+"&flavor="+encodeURI(t)+"&scent="+encodeURI(c)+"&price="+encodeURI(s);f.push({pathname:"/result/"+a})}(t,c,n,r),a){var s={};p(s),m(s)}}else alert("Please fill out all the inputs for us to determine your perfect matches!")},children:function(e){return 1===e?Object(d.jsxs)(d.Fragment,{children:[Object(d.jsxs)("div",{class:"form-group",children:[Object(d.jsx)("label",{for:"flavor",children:"Describe your favorite drink (can be non-alcoholic)!"}),Object(d.jsx)("textarea",{name:"flavor",class:"form-control",rows:"4",value:c,onChange:function(e){return j(e.target.value)},placeholder:"Really cold coca-cola during the summer...",required:!0})]}),Object(d.jsxs)("div",{class:"form-group",children:[Object(d.jsx)("label",{for:"scent",children:"Describe your favorite scent"}),Object(d.jsx)("textarea",{name:"scent",class:"form-control",rows:"4",value:n,onChange:function(e){return b(e.target.value)},placeholder:"Fresh tangerines...",required:!0})]}),Object(d.jsxs)("div",{class:"form-group",children:[Object(d.jsx)("label",{for:"price",children:"What is the maximum price you would like to pay?"}),Object(d.jsx)("input",{name:"price",class:"form-control",value:r,onChange:function(e){return O(e.target.value)},placeholder:"Any price from $4 to $3300!",type:"number",min:"4",max:"3300",required:!0})]}),Object(d.jsx)("div",{class:"form-group",children:Object(d.jsx)("button",{type:"button",class:"btn btn-outline-dark float-right",onClick:function(e){return w(e)},children:"Next"})})]}):2===e?Object(d.jsxs)(d.Fragment,{children:[Object(d.jsxs)("div",{class:"form-group",children:[Object(d.jsx)("p",{children:"Rate how well the following statements describe you!"}),Object(d.jsx)("label",{for:"personality",children:"You are the life of a party"}),N("personality1")]}),Object(d.jsxs)("div",{class:"form-group",children:[Object(d.jsx)("label",{for:"personality",children:"People near you often rally around you"}),N("personality2")]}),Object(d.jsxs)("div",{class:"form-group",children:[Object(d.jsx)("label",{for:"personality",children:"You will do whatever it takes to succeed, no matter what"}),N("personality3")]}),Object(d.jsxs)("div",{class:"form-group",children:[Object(d.jsx)("label",{for:"personality",children:"Your friends come to you for fashion advice"}),N("personality4")]}),Object(d.jsxs)("div",{class:"form-group",children:[Object(d.jsx)("button",{class:"btn btn-outline-dark float-left",onClick:function(){return g(1)},children:"Previous"}),Object(d.jsx)("button",{type:"button",class:"btn btn-outline-dark float-right",onClick:function(e){return w(e)},children:"Next"})]})]}):3===e?Object(d.jsxs)(d.Fragment,{children:[Object(d.jsxs)("div",{class:"form-group",children:[Object(d.jsx)("label",{for:"personality",children:"Life is not fair, and that means you have to look out for yourself first and foremost."}),N("personality5")]}),Object(d.jsxs)("div",{class:"form-group",children:[Object(d.jsx)("label",{for:"personality",children:"You don't like making a plan because you often end up deviating from it anyways."}),N("personality6")]}),Object(d.jsxs)("div",{class:"form-group",children:[Object(d.jsx)("label",{for:"personality",children:"You see many relationships in your life as transactional."}),N("personality7")]}),Object(d.jsxs)("div",{class:"form-group",children:[Object(d.jsx)("label",{for:"personality",children:"You have high standards of living, and you'll go the extra mile to attain that."}),N("personality8")]}),Object(d.jsxs)("div",{class:"form-group mb-0",children:[Object(d.jsx)("button",{class:"btn btn-outline-dark float-left",onClick:function(){return g(2)},children:"Previous"}),Object(d.jsx)("button",{type:"submit",class:"btn btn-dark float-right",children:"Submit!"})]})]}):void 0}(y)})})}c(63);function p(){var e=Object(s.useState)({personality1:"",personality2:"",personality3:"",personality4:"",personality5:"",personality6:"",personality7:"",personality8:""}),t=Object(o.a)(e,2),c=t[0],n=t[1],r=Object(s.useState)(""),a=Object(o.a)(r,2),i=a[0],l=a[1],j=Object(s.useState)(""),h=Object(o.a)(j,2),u=h[0],p=h[1],m=Object(s.useState)(""),f=Object(o.a)(m,2),x=f[0],v=f[1];return Object(d.jsxs)("div",{className:"Home",children:[Object(d.jsx)(b,{}),Object(d.jsx)(O,{personality:c,flavor:i,scent:u,price:x,setPersonality:n,setFlavor:l,setScent:p,setPrice:v})]})}var m=c(37),f=c.n(m),x=c(4),v=c.p+"static/media/wine.baac82f8.png",y=c(27),g=c(96);function w(e){var t=e.wine,c=e.rgb,s=[];for(var n in t)s.push(t[n][0]);var r=[];for(var a in t)r.push(t[a][1]);var i={labels:r,datasets:[{label:"Personality Match (%)",backgroundColor:"rgba("+c+", 0.2)",borderColor:"rgb("+c+")",data:s}]};return Object(d.jsx)(g.a,{data:i,options:{plugins:{legend:{display:!1}},scale:{ticks:{beginAtZero:!0,maxTicksLimit:5}}}})}var N=c(59),k=c(95);function S(e){var t=e.pm,c=e.wm,n=e.ls,r=e.newWM,a=e.setNewWM,i=e.likedWine,l=e.setLikedWine,b=new URLSearchParams(window.location.search),O=Object(s.useState)(!1),p=Object(o.a)(O,2),m=p[0],g=p[1],S=Object(s.useState)(!1),C=Object(o.a)(S,2);C[0],C[1];function P(e){var t,c=[],s=Object(x.a)(e);try{for(s.s();!(t=s.n()).done;){var n=t.value;c.push(Object(d.jsx)("div",{className:"trait-tag",children:Object(d.jsx)("p",{children:n})}))}}catch(r){s.e(r)}finally{s.f()}return c}function W(e,t){return Object(d.jsx)(k.a,{children:Object(d.jsx)("div",{className:"RadarChart",children:Object(d.jsx)(w,{wine:e,rgb:t})})})}function F(e,t){return i[e[t].doc_id]?Object(d.jsx)("div",{onClick:function(){return l(Object(u.a)(Object(u.a)({},i),{},Object(h.a)({},e[t].doc_id,!1)))},children:Object(d.jsx)(y.a,{class:"like-button"})}):Object(d.jsx)("div",{onClick:function(){return l(Object(u.a)(Object(u.a)({},i),{},Object(h.a)({},e[t].doc_id,!0)))},children:Object(d.jsx)(y.c,{class:"like-button"})})}function L(e,t){var c=[];if(e.length>0)for(var s=t;s<e.length;s+=2)c.push(Object(d.jsxs)("div",{className:"wm",children:[Object(d.jsxs)("div",{className:"wm-intro",children:[Object(d.jsx)("h5",{children:e[s].wine}),Object(d.jsxs)("div",{className:"wm-intro-info",children:[Object(d.jsxs)("p",{children:["$"+e[s].price,", ",e[s].score,"% Match"]}),F(e,s)]})]}),Object(d.jsx)("div",{className:"wm-body",children:Object(d.jsx)("p",{children:e[s].description})})]}));return c}function M(e,t){var c=[];if(e.length>0)for(var s=t;s<e.length;s+=2)c.push(Object(d.jsxs)("div",{className:"wm",children:[Object(d.jsxs)("div",{className:"wm-intro",children:[Object(d.jsx)("h5",{children:e[s].wine}),Object(d.jsx)("div",{className:"wm-intro-info",children:Object(d.jsx)("p",{children:"$"+e[s].price})})]}),Object(d.jsx)("div",{className:"wm-body",children:Object(d.jsx)("p",{children:e[s].description})})]}));return c}return Object(s.useEffect)((function(){0===Object.keys(r).length&&g(!1)}),[r]),Object(d.jsxs)("div",{className:"Result",children:[Object(d.jsx)("a",{href:"/",children:Object(d.jsx)("img",{className:"logo",src:j})}),Object(d.jsx)("div",{className:"personality-match",children:function(){var e=[];return t.length>0&&e.push(Object(d.jsxs)(d.Fragment,{children:[Object(d.jsx)("p",{className:"title",children:"Based on your personality..."}),Object(d.jsxs)("div",{className:"pm",children:[Object(d.jsxs)("div",{className:"pm-intro",children:[Object(d.jsx)("img",{src:v}),Object(d.jsxs)("div",{className:"pm-intro-info",children:[Object(d.jsx)("p",{children:"best match"}),Object(d.jsx)("h4",{children:t[0].score+"%"}),Object(d.jsx)("p",{children:"wine"}),Object(d.jsx)("h4",{className:"bottom",children:t[0].wine})]})]}),Object(d.jsxs)("div",{className:"pm-body",children:[Object(d.jsxs)("div",{className:"trait",children:[Object(d.jsxs)("p",{children:["Key Similarities:",Object(d.jsx)(N.a,{placement:"right",overlay:W(n[t[0].wine],"160,44,59"),children:Object(d.jsx)(y.b,{class:"question-mark"})})]}),P(t[0].key_descriptions)]}),Object(d.jsx)("p",{children:t[0].description})]})]})]})),e}()}),function(){if(c.length>0)return Object(d.jsxs)("div",{className:"wine-match-intro",children:[Object(d.jsxs)("p",{className:"title",children:["These particular ",Object(d.jsx)("span",{children:c[0].top_wine+"s"})," will fit your taste!"]}),Object(d.jsxs)("p",{children:["Not satisfied with your matches? Like the wine(s), then we will generate new matches for you."," "]})]})}(),c.length>0?Object(d.jsxs)(d.Fragment,{children:[Object(d.jsxs)("div",{className:"wine-match",children:[Object(d.jsx)("div",{className:"col left",children:L(c,0)}),Object(d.jsx)("div",{className:"col right",children:L(c,1)})]}),m?Object(d.jsxs)("div",{className:"wine-new-match",children:[Object(d.jsx)("p",{className:"title",children:"Here are your new matches!"}),Object(d.jsxs)("div",{className:"wine-match",children:[Object(d.jsx)("div",{className:"col left",children:M(r,0)}),Object(d.jsx)("div",{className:"col right",children:M(r,1)})]})]}):Object(d.jsx)("center",{children:Object(d.jsx)("button",{disabled:m,onClick:function(){return function(){g(!0);var e={},s=b.get("flavor"),n=b.get("scent"),r=b.get("price");e.flavor=s,e.scent=n,e.price=r,e.wine_match=c,e.variety=t[0].wine,e.likedWines=i,f.a.post("/api/rocchio",e).then((function(e){var t=e.data;a(t.new_wine_match)}),(function(e){console.log(e)}))}()},class:"btn btn-dark new-button",children:"Generate New Matches!"})})]}):Object(d.jsxs)("div",{className:"wine-no-result",children:[Object(d.jsx)("p",{className:"title",children:"Based on your flavor and scent preferences..."}),Object(d.jsx)("p",{children:"A surprise to be sure, but a welcome one. It appears that no specific bottle of wine is special enough to match your unique flavor and scent preferences! Take pride in the fact that there is no one like you!"})]}),Object(d.jsxs)("div",{className:"personality-other",children:[Object(d.jsx)("p",{className:"title",children:"Your other matches..."}),function(){var e=[];if(t.length>0){var c,s=Object(x.a)(t.slice(1));try{for(s.s();!(c=s.n()).done;){var r=c.value;e.push(Object(d.jsx)(d.Fragment,{children:Object(d.jsxs)("div",{className:"pm",children:[Object(d.jsxs)("div",{className:"pm-intro",children:[Object(d.jsx)("img",{src:v}),Object(d.jsxs)("div",{className:"pm-intro-info",children:[Object(d.jsx)("p",{children:"match"}),Object(d.jsx)("h4",{children:r.score+"%"}),Object(d.jsx)("p",{children:"wine"}),Object(d.jsx)("h4",{className:"bottom",children:r.wine})]})]}),Object(d.jsxs)("div",{className:"pm-body",children:[Object(d.jsxs)("div",{className:"trait",children:[Object(d.jsxs)("p",{children:["Key Similarities:",Object(d.jsx)(N.a,{placement:"right",overlay:W(n[r.wine],"90,90,90"),children:Object(d.jsx)(y.b,{class:"question-mark"})})]}),P(r.key_descriptions)]}),Object(d.jsx)("p",{children:r.description})]})]})}))}}catch(a){s.e(a)}finally{s.f()}}return e}()]})]})}function C(){var e=new URLSearchParams(window.location.search),t=Object(s.useState)({}),c=Object(o.a)(t,2),n=c[0],r=c[1],a=Object(s.useState)(""),i=Object(o.a)(a,2),l=i[0],j=i[1],b=Object(s.useState)(""),h=Object(o.a)(b,2),u=h[0],p=h[1],m=Object(s.useState)(""),x=Object(o.a)(m,2),v=x[0],y=x[1],g=Object(s.useState)([]),w=Object(o.a)(g,2),N=w[0],k=w[1],C=Object(s.useState)([]),P=Object(o.a)(C,2),W=P[0],F=P[1],L=Object(s.useState)({}),M=Object(o.a)(L,2),_=M[0],q=M[1],I=Object(s.useState)({}),R=Object(o.a)(I,2),Y=R[0],T=R[1],$=Object(s.useState)({}),D=Object(o.a)($,2),U=D[0],A=D[1];return Object(s.useEffect)((function(){for(var t={},c=1;c<=8;c++)t["personality"+c]=e.get("personality"+c);r(t),j(e.get("flavor")),p(e.get("scent")),y(e.get("price")),f()({method:"GET",url:"/api/search",params:e}).then((function(e){k(e.data.personality_match),F(e.data.wine_match),q(e.data.legend_score)})).catch((function(e){return console.log(e)}))}),[window.location.search]),Object(d.jsxs)("div",{className:"ResultPage",children:[Object(d.jsx)(S,{pm:N,wm:W,ls:_,newWM:Y,setNewWM:T,likedWine:U,setLikedWine:A}),Object(d.jsx)(O,{personality:n,flavor:l,scent:u,price:v,newWM:Y,likedWine:U,setPersonality:r,setFlavor:j,setScent:p,setPrice:y,setNewWM:T,setLikedWine:A})]})}function P(){return Object(d.jsxs)(i.a,{children:[Object(d.jsx)(l.a,{exact:!0,path:"/",component:p}),Object(d.jsx)(l.a,{path:"/result/",component:C})]})}var W=function(e){e&&e instanceof Function&&c.e(3).then(c.bind(null,236)).then((function(t){var c=t.getCLS,s=t.getFID,n=t.getFCP,r=t.getLCP,a=t.getTTFB;c(e),s(e),n(e),r(e),a(e)}))};a.a.render(Object(d.jsx)(n.a.StrictMode,{children:Object(d.jsx)(P,{})}),document.getElementById("root")),W()},63:function(e,t,c){}},[[231,1,2]]]);
//# sourceMappingURL=main.af3ac2d2.chunk.js.map