(this.webpackJsonpfrontend=this.webpackJsonpfrontend||[]).push([[0],{22:function(e,t,c){},38:function(e,t,c){},63:function(e,t,c){"use strict";c.r(t);var n=c(1),r=c.n(n),s=c(31),a=c.n(s),i=(c(38),c(17)),l=c(3),o=c(2),j=c.p+"static/media/logo.f561a865.jpg",d=c(0);function b(){return Object(d.jsxs)("div",{className:"Landing",children:[Object(d.jsx)("a",{href:"/",children:Object(d.jsx)("img",{className:"logo",src:j})}),Object(d.jsxs)("div",{className:"text",children:[Object(d.jsx)("h1",{children:"Find your perfect wine match!"}),Object(d.jsx)("p",{children:"We recommend optimal wine pairings based on your personality, flavor, and scent preferences."})]})]})}var h=c(10),u=c(5);c(20);function O(e){var t=e.name,c=e.personality,r=e.flavor,s=e.scent,a=e.price,i=e.setName,j=e.setPersonality,b=e.setFlavor,O=e.setScent,p=e.setPrice,f=Object(l.e)(),m=Object(n.useState)(!1),x=Object(o.a)(m,2),v=(x[0],x[1]),g=Object(n.useState)(1),y=Object(o.a)(g,2),w=y[0],N=y[1];function k(e){return Object(d.jsxs)(d.Fragment,{children:[Object(d.jsxs)("div",{className:"scale",children:[Object(d.jsx)("p",{children:"no"}),Object(d.jsx)("p",{}),Object(d.jsx)("p",{children:"neutral"}),Object(d.jsx)("p",{}),Object(d.jsx)("p",{children:"yes"})]}),Object(d.jsxs)("div",{className:"radios",children:[Object(d.jsx)("input",{className:"radio",type:"radio",name:e,value:"1",checked:"1"===c[e],onChange:function(t){return j(Object(u.a)(Object(u.a)({},c),{},Object(h.a)({},e,t.target.value)))},required:!0}),Object(d.jsx)("input",{className:"radio",type:"radio",name:e,value:"2",checked:"2"===c[e],onChange:function(t){return j(Object(u.a)(Object(u.a)({},c),{},Object(h.a)({},e,t.target.value)))},required:!0}),Object(d.jsx)("input",{className:"radio",type:"radio",name:e,value:"3",checked:"3"===c[e],onChange:function(t){return j(Object(u.a)(Object(u.a)({},c),{},Object(h.a)({},e,t.target.value)))},required:!0}),Object(d.jsx)("input",{className:"radio",type:"radio",name:e,value:"4",checked:"4"===c[e],onChange:function(t){return j(Object(u.a)(Object(u.a)({},c),{},Object(h.a)({},e,t.target.value)))},required:!0}),Object(d.jsx)("input",{className:"radio",type:"radio",name:e,value:"5",checked:"5"===c[e],onChange:function(t){return j(Object(u.a)(Object(u.a)({},c),{},Object(h.a)({},e,t.target.value)))},required:!0})]})]})}return Object(d.jsx)("div",{className:"Search",children:Object(d.jsx)("form",{onSubmit:function(e){e.preventDefault(),console.log(t),function(e,t,c,n,r){if(null===e||""===e||null===t||""===t||null===c||""===c||null===n||""===n||null===r||""===r)alert("You still have some missing inputs for us to find your perfect matches :( "),v(!0);else if(r<4||r>3300)alert("The price range should be anywhere between $4 to $3300");else{var s="";for(var a in t)s+="&"+a+"="+t[a];var i="?name="+encodeURI(e)+s+"&flavor="+encodeURI(c)+"&scent="+encodeURI(n)+"&price="+encodeURI(r);f.push({pathname:"/result/"+i})}}(t,c,r,s,a)},children:function(e){return 1===e?Object(d.jsxs)(d.Fragment,{children:[Object(d.jsxs)("div",{class:"form-group",children:[Object(d.jsx)("label",{for:"name",children:" What is your name? "}),Object(d.jsx)("input",{name:"name",class:"form-control",placeholder:"Jane Doe",value:t,onChange:function(e){return i(e.target.value)},required:!0,autoComplete:"off"})]}),Object(d.jsxs)("div",{class:"form-group",children:[Object(d.jsx)("label",{for:"flavor",children:"Describe your favorite drink (can be non-alcoholic)!"}),Object(d.jsx)("textarea",{name:"flavor",class:"form-control",rows:"3",value:r,onChange:function(e){return b(e.target.value)},placeholder:"Really cold coca-cola during the summer...",required:!0})]}),Object(d.jsxs)("div",{class:"form-group",children:[Object(d.jsx)("label",{for:"scent",children:"Describe your favorite scent"}),Object(d.jsx)("textarea",{name:"scent",class:"form-control",value:s,onChange:function(e){return O(e.target.value)},placeholder:"Fresh tangerines...",required:!0})]}),Object(d.jsxs)("div",{class:"form-group",children:[Object(d.jsx)("label",{for:"price",children:"What is the maximum price you would like to pay?"}),Object(d.jsx)("input",{name:"price",class:"form-control",value:a,onChange:function(e){return p(e.target.value)},placeholder:"Any price from $4 to $3300!",type:"number",min:"4",max:"3300",required:!0})]}),Object(d.jsx)("div",{class:"form-group",children:Object(d.jsx)("button",{class:"btn btn-outline-dark float-right",onClick:function(){return N(2)},children:"Next"})})]}):2===e?Object(d.jsxs)(d.Fragment,{children:[Object(d.jsx)("p",{children:"Rate how well the following statements describe you"}),Object(d.jsxs)("div",{class:"form-group",children:[Object(d.jsx)("label",{for:"personality",children:"You are the life of a party"}),k("personality1")]}),Object(d.jsxs)("div",{class:"form-group",children:[Object(d.jsx)("label",{for:"personality",children:"People near you often rally around you"}),k("personality2")]}),Object(d.jsxs)("div",{class:"form-group",children:[Object(d.jsx)("label",{for:"personality",children:"You will do whatever it takes to succeed, no matter what"}),k("personality3")]}),Object(d.jsxs)("div",{class:"form-group",children:[Object(d.jsx)("label",{for:"personality",children:"Your friends come to you for fashion advice"}),k("personality4")]}),Object(d.jsxs)("div",{class:"form-group",children:[Object(d.jsx)("button",{class:"btn btn-outline-dark float-left",onClick:function(){return N(1)},children:"Previous"}),Object(d.jsx)("button",{class:"btn btn-outline-dark float-right",onClick:function(){return N(3)},children:"Next"})]})]}):3===e?Object(d.jsxs)(d.Fragment,{children:[Object(d.jsxs)("div",{class:"form-group",children:[Object(d.jsx)("label",{for:"personality",children:"Life is not fair, and that means you have to look out for yourself first and foremost."}),k("personality5")]}),Object(d.jsxs)("div",{class:"form-group",children:[Object(d.jsx)("label",{for:"personality",children:"You don't like making a plan because you often end up deviating from it anyways."}),k("personality6")]}),Object(d.jsxs)("div",{class:"form-group",children:[Object(d.jsx)("label",{for:"personality",children:"You see many relationships in your life as transactional."}),k("personality7")]}),Object(d.jsxs)("div",{class:"form-group",children:[Object(d.jsx)("label",{for:"personality",children:"You have high standards of living, and you'll go the extra mile to attain that."}),k("personality8")]}),Object(d.jsxs)("div",{class:"form-group mb-0",children:[Object(d.jsx)("button",{class:"btn btn-outline-dark float-left",onClick:function(){return N(2)},children:"Previous"}),Object(d.jsx)("button",{type:"submit",class:"btn btn-dark float-right",children:"Submit"})]})]}):void 0}(w)})})}c(22);function p(){var e=Object(n.useState)(""),t=Object(o.a)(e,2),c=t[0],r=t[1],s=Object(n.useState)({}),a=Object(o.a)(s,2),i=a[0],l=a[1],j=Object(n.useState)(""),h=Object(o.a)(j,2),u=h[0],p=h[1],f=Object(n.useState)(""),m=Object(o.a)(f,2),x=m[0],v=m[1],g=Object(n.useState)(""),y=Object(o.a)(g,2),w=y[0],N=y[1];return Object(d.jsxs)("div",{className:"Home",children:[Object(d.jsx)(b,{}),Object(d.jsx)(O,{name:c,personality:i,flavor:u,scent:x,price:w,setName:r,setPersonality:l,setFlavor:p,setScent:v,setPrice:N})]})}var f=c(13),m=c.n(f),x=c(33);function v(e){var t=e.pm,c=e.wm,r=new URLSearchParams(window.location.search),s=Object(n.useState)({}),a=Object(o.a)(s,2),i=a[0],l=a[1],b=Object(n.useState)(!1),O=Object(o.a)(b,2),p=O[0],f=O[1],v=Object(n.useState)(!1),g=Object(o.a)(v,2),y=(g[0],g[1],Object(n.useState)({})),w=Object(o.a)(y,2),N=w[0],k=w[1];function S(e,t){return Object(d.jsx)("button",{class:i[e[t].doc_id]?"btn btn-dark w-100":"btn btn-outline-dark w-100",value:e[t].doc_id,onClick:function(e){i[e.target.value]?l(Object(u.a)(Object(u.a)({},i),{},Object(h.a)({},e.target.value,!1))):l(Object(u.a)(Object(u.a)({},i),{},Object(h.a)({},e.target.value,!0)))},children:i[e[t].doc_id]?"Unlike":"Like"})}return Object(d.jsxs)("div",{className:"Result",children:[Object(d.jsx)("a",{href:"/",children:Object(d.jsx)("img",{className:"logo",src:j})}),Object(d.jsx)("div",{className:"personality-match",children:function(){var e=[];return t.length>0&&e.push(Object(d.jsxs)(d.Fragment,{children:[Object(d.jsx)("p",{children:"Based on personality..."}),Object(d.jsxs)("h3",{children:["You are ",Object(d.jsx)("u",{children:t[0].top_wine_percent+"%"})," match with"," ",Object(d.jsx)("i",{children:t[0].top_wine})]}),Object(d.jsxs)("div",{class:"pm top",children:[Object(d.jsxs)("div",{className:"pm-intro",children:[Object(d.jsx)("h4",{className:"score",children:t[0].score+"%"}),Object(d.jsx)("h4",{children:Object(d.jsx)("i",{children:t[0].wine})})]}),Object(d.jsxs)("p",{children:["Your key similarities with this variety:"," ",Object(d.jsx)("b",{children:t[0].key_descriptions})]}),Object(d.jsx)("p",{children:t[0].description})]})]})),e}()}),function(){if(c.length>0)return Object(d.jsxs)("div",{className:"wine-match-intro",children:[Object(d.jsx)("h5",{children:Object(d.jsxs)("u",{children:["We believe these particular ",c[0].top_wine+"s"," will fit your taste"]})}),Object(d.jsxs)("p",{children:["Not satisfied with your matches? Click like on the wine(s) that you like and submit at the bottom, then we will generate new (hopefully perfect) matches for you!"," "]})]})}(),c.length>0?Object(d.jsxs)("div",{children:[Object(d.jsxs)("div",{className:"wine-match",children:[Object(d.jsx)("div",{className:"col left",children:function(e){var t=[];if(e.length>0)for(var c=0;c<e.length;c+=2)t.push(Object(d.jsxs)("div",{className:"wm",children:[Object(d.jsx)("h5",{children:Object(d.jsx)("i",{children:e[c].wine})}),Object(d.jsx)("p",{children:"$"+e[c].price}),Object(d.jsxs)("p",{children:[e[c].score,"% match"]}),Object(d.jsx)("p",{children:e[c].description}),S(e,c)]}));return t}(c)}),Object(d.jsx)("div",{className:"col right",children:function(e){var t=[];if(e.length>0)for(var c=1;c<e.length;c+=2)t.push(Object(d.jsxs)("div",{className:"wm",children:[Object(d.jsx)("h5",{children:Object(d.jsx)("i",{children:e[c].wine})}),Object(d.jsx)("p",{children:"$"+e[c].price}),Object(d.jsxs)("p",{children:[e[c].score,"% match"]}),Object(d.jsx)("p",{children:e[c].description}),S(e,c)]}));return t}(c)})]}),Object(d.jsx)("center",{children:Object(d.jsx)("button",{disabled:p,onClick:function(){return function(){f(!0),console.log("handleSubmit called");var e={},n=r.get("flavor"),s=r.get("scent"),a=r.get("price");e.flavor=n,e.scent=s,e.price=a,e.wine_match=c,e.variety=t[0].wine,e.likedWines=i,m.a.post("/api/rocchio",e).then((function(e){var t=e.data;console.log(t),k(t.new_wine_match)}),(function(e){console.log(e)}))}()},class:"btn btn-secondary",children:"Click Here for New Matches based on your likes"})}),p?Object(d.jsxs)("div",{children:[Object(d.jsx)("br",{}),Object(d.jsx)("center",{children:Object(d.jsx)("h3",{children:"Here are your new matches!"})}),Object(d.jsxs)("div",{className:"wine-match",children:[Object(d.jsx)("div",{className:"col left",children:function(e){var t=[];if(e.length>0)for(var c=0;c<e.length;c+=2)t.push(Object(d.jsxs)("div",{className:"wm",children:[Object(d.jsx)("h5",{children:Object(d.jsx)("i",{children:e[c].wine})}),Object(d.jsx)("p",{children:"$"+e[c].price}),Object(d.jsx)("p",{children:e[c].description})]}));return t}(N)}),Object(d.jsx)("div",{className:"col right",children:function(e){var t=[];if(e.length>0)for(var c=1;c<e.length;c+=2)t.push(Object(d.jsxs)("div",{className:"wm",children:[Object(d.jsx)("h5",{children:Object(d.jsx)("i",{children:e[c].wine})}),Object(d.jsx)("p",{children:"$"+e[c].price}),Object(d.jsx)("p",{children:e[c].description})]}));return t}(N)})]})]}):null,Object(d.jsx)("br",{})]}):Object(d.jsx)("div",{className:"wine-match",children:Object(d.jsxs)("p",{children:["Based on your flavor and scent preferences... ",Object(d.jsx)("br",{}),Object(d.jsx)("br",{})," A surprise to be sure, but a welcome one. It appears that no specific bottle of wine is special enough to match your unique personality! Take pride in the fact that there is no one like you!"]})}),Object(d.jsx)("div",{className:"personality-other",children:function(){var e=[];if(t.length>0){e.push(Object(d.jsx)(d.Fragment,{children:Object(d.jsx)("h3",{children:"Your other matches..."})}));var c,n=Object(x.a)(t.slice(1));try{for(n.s();!(c=n.n()).done;){var r=c.value;e.push(Object(d.jsxs)("div",{className:"pm",children:[Object(d.jsxs)("div",{className:"pm-intro",children:[Object(d.jsx)("h4",{className:"score",children:r.score+"%"}),Object(d.jsx)("h4",{children:Object(d.jsx)("i",{children:r.wine})})]}),Object(d.jsxs)("p",{children:["Your key similarities with this variety:"," ",Object(d.jsx)("b",{children:r.key_descriptions})]}),Object(d.jsx)("p",{children:r.description})]}))}}catch(s){n.e(s)}finally{n.f()}}return e}()})]})}function g(){var e=new URLSearchParams(window.location.search),t=Object(n.useState)(""),c=Object(o.a)(t,2),r=c[0],s=c[1],a=Object(n.useState)(""),i=Object(o.a)(a,2),l=i[0],j=i[1],b=Object(n.useState)(""),h=Object(o.a)(b,2),u=h[0],p=h[1],f=Object(n.useState)(""),x=Object(o.a)(f,2),g=x[0],y=x[1],w=Object(n.useState)(""),N=Object(o.a)(w,2),k=N[0],S=N[1],C=Object(n.useState)([]),F=Object(o.a)(C,2),P=F[0],_=F[1],Y=Object(n.useState)([]),q=Object(o.a)(Y,2),R=q[0],$=q[1];return Object(n.useEffect)((function(){s(e.get("name")),p(e.get("flavor")),y(e.get("scent")),S(e.get("price")),m()({method:"GET",url:"/api/search",params:e}).then((function(e){_(e.data.personality_match),$(e.data.wine_match)})).catch((function(e){return console.log(e)}))}),[window.location.search]),Object(d.jsxs)("div",{className:"ResultPage",children:[Object(d.jsx)(v,{pm:P,wm:R}),Object(d.jsx)(O,{name:r,personality:l,flavor:u,scent:g,price:k,setName:s,setPersonality:j,setFlavor:p,setScent:y,setPrice:S})]})}function y(){return Object(d.jsxs)(i.a,{children:[Object(d.jsx)(l.a,{exact:!0,path:"/",component:p}),Object(d.jsx)(l.a,{path:"/result/",component:g})]})}var w=function(e){e&&e instanceof Function&&c.e(3).then(c.bind(null,64)).then((function(t){var c=t.getCLS,n=t.getFID,r=t.getFCP,s=t.getLCP,a=t.getTTFB;c(e),n(e),r(e),s(e),a(e)}))};a.a.render(Object(d.jsx)(r.a.StrictMode,{children:Object(d.jsx)(y,{})}),document.getElementById("root")),w()}},[[63,1,2]]]);
//# sourceMappingURL=main.728c3e1b.chunk.js.map